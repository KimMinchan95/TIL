> <이펙티브 타입스크립트>(댄 밴더캄 지음, 장원호 옮김, 인사이트, 2021)

#### 아이템 53 - 타입스크립트 기능보다는 ECMAScript 기능을 사용하기

- 타입스크립트가 처음 등장했을 때, 자바스크립트는 결함이 많고 개선할 점이 많았다.
- 타입스크립트의 초기 버전에는 독립적으로 개발한 클래스(class), 열거형(enum), 모듈 시스템을 포함시킬 수 밖에 없었다.
- 이 결함을 해결하기 위해서 자바스크립트의 신규 기능을 채택하고 타입스크립트 초기 버전과의 호환성을 포기했다.
  **열거형, 매개변수 속성, 트리플 슬래시 임포트, 데코레이터는 타입 정보를 제거한다고 자바스크립트가 되지 않기 때문에 타입스크립트의 역할을 명확하게 하려면 사용하지 않는 것이 좋다.**

#### 아이템 54 - 객체를 순회하는 노하우

- 타입스크립트에서 `for...in` 루프를 사용하면 편집기에서 오류가 발생한다.
  - 그 이유는 `k`와 `obj`객체의 키 타입이 서로 다르게 추론되어서이다.

```ts
const obj = {
  one: 'uno',
  two: 'dos',
  three: 'tres',
};
for (const k in obj) {
  const v = obj[k];
  // ~~~~ obj에 인덱스 시그니처가 없기 때문에
  //      엘리먼트는 암시적으로 'any' 타입입니다.
}
```

- 이 문제는 `k`의 타입을 더욱 구체적으로 명시해 주면 오류가 사라진다.

```ts
let k: keyof typeof obj; // "one" | "two" | "three" 타입
for (k in obj) {
  const v = obj[k];
}
```

- 객체를 순회하면서 키와 값을 얻는 가장 좋은 방법은 `Object.entries`를 사용하는 것이다.
  - 이는 프로토타입 오염을 방지할 수 있다.

```ts
function foo(abc: ABC) {
  for (const [k, v] of Object.entries(abc)) {
    k; //string 타입
    v; // any 타입
  }
}
```
