# 가독성 좋은 테스트 코드를 작성하는 방법

## 테스트 코드 제목 작성

### 목차를 쓰듯 테스트 코드를 작성하라

- 아무리 좋은 테스트 코드를 작성했다고 해도 제목이 이상하거나 이해하기 힘들다면, 다른 개발자가 중복된 테스트 코드를 작성할 수 있다.

### A를 만족하면 B가 도출되는 형식으로 작성하면 좋다.

- 나쁜 예시 - ‘구매 버튼 클릭’
- 좋은 예시 - ‘구매 버튼을 클릭하면, 모달을 띄운다’

### 분류별로 나눠서 작성한다.

- 세부 내용을 제외한 나머지는 같은 경우 연관된 점을 분류해서 나누면 좋다.
  - 제목을 잘 분류하는 것 만으로도 가독성을 개선할 수 있다.
  - 들여쓰기가 적용된 차례대로 읽었을 때, 하나의 문장으로 완성될 수 있게 만들면 가독성이 좋다.
    - SignUp Page, 회원가입 폼이 렌더링 될 때, 아이디란이 비어있으면, 버튼이 비활성화되어야 한다.

```jsx
describe("SignUp Page", () => {
	describe("회원가입 폼이 렌더링 될 때", () => {
		test("아이디란이 비어있으면, 버튼이 비활성화되어야 한다", () => {
			...
		})
		test("비밀번호란이 비어있으면, 버튼이 비활성화되어야 한다", () => {
			...
		})
	})
})
```

## Given-When-Then 법칙 이용하기

- Given-When-Then
  - Given : 테스트 코드를 작성하기 위해 필요한 변수를 선언하는 준비 과정
  - When : 테스트에 필요한 준비물(변수)을 가지고 이를 수행하려는 대상(함수)을 테스트하는 과정
  - Then : 수행한 테스트에 관한 결과를 확인하는 과정
- 추후 테스트 코드 파일이 길어질 때, 유지보수에 도움이 된다.

```jsx
describe("calculator", () => {
  test("3 adds 5 equals 8", () => {
    // Given - 테스트에 필요한 준비물 생성
    const num1 = 3;
    const num2 = 5;

    // When - 테스트 대상을 수행
    const result = add(num1, num2);

    // Then - 결과가 올바른지 검증
    expact(result).toBe(num1 + num2);
  });
});
```

## 테스트 데이터는 난수를 만들어 사용하기

- 대부분 테스트 코드를 작성할 때 예상 가능한 변수나 값을 만들어 사용한다.
  - 예상 가능한 값으로만 테스트한다면, 예기치 못한 범위에서 버그가 발생할 확률을 잡아내기 힘들다.
  - 난수를 만들어서 사용하거나, 임의 값을 불러와 사용하는 것이 더 바람직하다.
- faker.js 등의 라이브러리를 사용하면 도움이 된다.

---

[가독성 좋은 테스트 코드를 작성하는 방법 - Moon](https://yozm.wishket.com/magazine/detail/2435/)
