# Updating Arrays in State

- 배열은 JS에서 변경이 가능하지만, state에 저장된 배열을 업데이트하고 싶을 때에는, 새 배열을 생성(혹은 기존 배열의 복사본을 생성)한 뒤, 이 새 배열을 state로 두어 업데이트해야 한다.

## 변경하지 않고 배열 업데이트하기

- JS에서 배열은 다른 종류의 객체이다.
- 객체와 마찬가지로 React state에서 배열은 읽기 전용으로 처리해야 한다.
  - 배열 내부 항목을 재할당해서는 안 되며 `push()`와 `pop()`같은 함수로 배열을 변경해서는 안된다.

## 배열에 항목 추가하기

- 기존에 존재하던 항목들 뒤에 새 항목을 포함하는 새로운 배열을 만들어야 한다.
- 가장 쉬운 방법은 `...` 배열 전개 구문을 사용하는 것이다.

## 배열에서 항목 저거하기

- 배열에서 항목을 제거하는 가장 쉬운 방법은, `filter`함수를 사용해서 해당 항목을 포함하지 않는 새 배열을 제공하는 것이다.

## 배열 변환하기

- 배열의 일부 또는 전체 항목을 변경하고자 한다면, `map()`을 사용해 새로운 배열을 만들 수 있다.
- `map`에 전달할 함수는 데이터나 인덱스(또는 둘 다)를 기반으로 각 항목을 어떻게 처리할지 결정할 수 있다.

## 배열 내 항목 교체하기

- 배열에서 하나 이상의 항목을 교체하는 경우 `map`을 사용하는 편이 좋다.
- 항목을 교체하기 위해 `map`을 이용해서 새로운 배열을 만들면 된다.

## 배열에 항목 삽입하기

- 배열에 중간에 항목을 삽입하고 싶을때, `...` 배열 전개 구문과 `slice()`함수를 함께 사용하면, 배열의 "일부분"을 잘라낼 수 있다.

```jsx
const nextArtists = [
  // 삽입 지점 이전 항목
  ...artists.slice(0, insertAt),
  // 새 항목
  { id: nextId++, name: name },
  // 삽입 지점 이후 항목
  ...artists.slice(insertAt),
];
```

## 배열에 기타 변경 적용하기

- 전개 구문과 `map()`, `filter()` 같은 비-변경 함수들로만 할수 없을때 배열을 복사한 뒤 변경하면 된다.
- 전개 구문을 사용해서 복사하면 얕은 복사이기 때문에 내부의 기존 항목을 직접 변경해서는 안된다.
