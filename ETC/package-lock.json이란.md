# package-lock.json인란

[package-lock.json 은 뭘까요?](https://www.youtube.com/watch?v=P2CtFD6xa54)

## package-lock.json, yarn.lock

- JS로 프론트 or 백엔드를 개발하다보면 이 파일들을 볼 수 있다.
- 이 파일들은 프로그래머가 관리 할 필요없고, npm과 yarn과 같은 패키지 매니저가 알아서 관리해준다.

### 패키지 매니저

- 현대적인 언어라면 보통 권장되는 패키지 매니저를 하나씩 가지고 있다.
    - Node.js
        - npm, Yarn, pnpm
    - Rust
        - Cargo
    - Go
        - dep
- lock 파일은 해당 프로젝트에 설치한 패키지, 그 패키지와 관련된 모든 패키지들의 버전 정보를 포함한다.

**예시)**

- `npm instll --save @package/A @package` 이와 같이 어떤 프로젝트에 두 가지 패키지를 두 개를 가져다 쓴다고 할 때
    - @package/A (version 1.0)
    - @package/B (version 2.1)
- 다른 개발자가 소스코드를 받아서 `npm i`를 다운받았다고 했을 때, 다른 개발자도 동일한 버전을 다운 받아질 것이다.

**이렇게 되면 충분히 실행이 잘 될까?**

> **답 :** 그렇지 않다. 패키지 **A**와 **B**가 가지고 있는 패키지들의 정보는 지정하지 않았기 때문이다.
> 

**예시)**

- 다음 처럼 패키지 **A**가 추가적으로 패키지 **C** 를 포함하고 있을 수도 있다.
    - @package/A (version 1.0)
        - @package/C (version *)
    - @package/B (version 2.1)
- 서로 다른 사람이 `npm i`를 했을 때, 패키지 **C**의 버전이 달라져서 실행이 안될 수도 있다.
- 만약 처음 설치할 때 lock파일에 패키지 **C**를 특정 버전으로 기록해 놓았다면 이런 문제가 생길 일이 없다.

### package-lock.json 은?

> pacekage-lock.json 파일은 이렇게 관련된 패키지 버전들을 자동으로 관리하는 역할을 한다.
> 
- 의존성 트리에 대한 정보를 가지고 있다고 할 수 있다.

### 추가

- package-lock.json은 package-lock.json이 생성되는 시점의 의존성 트리(node_modules)에 대한 정보를 가지고 있는 파일ㅇ디ㅏ.
    - npm을 사용해서 node_modules나 package.json을 수정하게 되면, package-lock.json 또한 자동으로 업데이트 된다.
- **node_modules는** git에 커밋할 때 제외해도 된다.
    - **node_modules**가 없어도, package.json에 설치한 패키지들이 모두 있기 때문이다.
    - `npm i`로 **node_modules**를 언제든지 설치할 수 있기 때문이다.

---

### **참고자료**

[package.json, node_modules, 그리고 package-lock.json간의 관계](https://cheonmro.github.io/2018/12/23/package-json/)