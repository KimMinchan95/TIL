# 웹 접근성

[[10분 테코톡] 블링의 웹 접근성](https://www.youtube.com/watch?v=yLZZi5E7NTU&list=PLkfxusmKmLsNDGmER2tmrslpPOTfKhE7j&index=111&t=250s)

## 왜 웹 접근성을 고려해야 할까?

> 모든 사람들이 동등하게 서비스를 이용할 수 있도록
> 
- 영향력의 범위
    - 2021년 기준, 보건복지부 발표 : 국내 등록 장애인의 수는 265만명 (인구 대비 5%)
    - 우리가 접근성을 고려하지 않으면 시각장애인에게 의미를 알 수 없는 요소를 제공
    - 지체장애인에게 보조기술을 통해 Focus할 수 없는 요소를 제공할 수 있음
    - 색약인 사용자에게 구분할 수 없는 버튼을 제공할 수 있음
- 장애인 차별 금지법 제 20조 1항
    - 장애인이 전자정보와 비전자정보를 이용하고 그에 접근함에 있어서 (중략) 차별행위를 하여서는 아니 된다.
    - 시각장애인 정보접근 차별법을 어긴 쇼핑몰이 배상한 적도 있음
- 웹 크롤러
    - 시각장애인에게 웹 페이지의 정보를 제공하는 스크린 리더는 웹크롤러처럼 코드를 분석한다.
    - `img`태그에서 `alt`라는 속성은 스크린 리더가 이 `alt`속성을 분석해서 사용자에게 읽어준다.
    - 또한 이 `alt`속성을 웹 크롤러에게도 검색 엔진 랭킹 계산 시 요소로 고려된다.

## 웹 접근성을 준수하는 방법

- 스크린 리더가 코드를 인식하는 방법
    - 코드
    - 접근성 트리
    - 음성

### 접근성 트리

- 접근성 트리에 표시되는 이름 = 스크린 리더가 읽는 요소의 이름(Accessible Name)
- 버튼의 경우 : 부모 요소의 이름이 설정되지 않았을 때 자식 요소의 이름을 모아서 하나로 읽는다. + 끝에 “버튼”이라는 명칭이 추가된다.

**버튼의 자식요소로 img가 있을때**

```jsx
<button type="button">
	<img src="./shooping-cart.png" alt="" />
</button>
```

- 브라우저는 접근성 트리를 생성하며 해당 요소의 이름을 찾으려고 한다.
- `alt`속성에 빈값이 들어있는 경우 빈 문자열이 된다.
- 접근성 트리에는 빈 문자열이 이름인 버튼이 된다.
- 그렇게 스크린 리더는 이 요소의 이름을 “버튼”이라고 인식한다.

**alt 속성에 이름을 넣었을 때**

```jsx
<button type="button">
	<img src="./shooping-cart.png" alt="장바구니에 추가하기" />
</button>
```

- 이제 스크린리더는 “장바구니에 추가하기 버튼” 이라고 읽는다.

## 로그인 화면

- 로그인 화면에서 이메일과 비밀번호를 잘못 입력했을때 페이지 하단에 “가입 내역이 없는 이메일이거나 비밀번호가 틀립니다.”라는 스낵바를 띄어준다고 할때
    - 스크린리더가 바로 이 요소로 이동해서 읽어주지는 않는다.
    

**스크린 리더가 이 요소를 평가하는 과정**

코드

```jsx
<div class="snackbar">
	가입 내역이 없는 이메일이거나 비밀번호가 틀립니다.
</div>
```

- 과정
    - 텍스트를 지정한 위치에 삽입한다.
    - 이 사실을 접근성 트리에 반영한다.
    - 스크린리더에게도 이 정보가 전달된다.
    - 지금은 사용자에게 당장 필요한 정보인지 판단하지 못해서 바로 읽어주지 않는다.

**해결하는 방법은 `role="alert"`를 추가하면 된다.**

```jsx
<div class="snackbar" role="alert">
	가입 내역이 없는 이메일이거나 비밀번호가 틀립니다.
</div>
```

- `role="alert"`를 추가하면
    - 브라우저가 접근성 트리를 만들때 이를 반영한다.
    - 접근성 트리에 `alert`요소가 나타나면 스크린리더가 사용자에게 전달할 상황이 발생했음을 인지한다.
    - 메시지를 바로 읽어준다.
    

## 유용한 도구 소개

**WAVE** - web accessibility evaluation tool

- 현재 페이지가 어떤 접근성원칙을 위반하는지, 잘 준수하고 있는지 분석
- 문제가 되는 이유, 해결할 수 있는 방법 제시

**Chrome Developer Tools** - Accessibility

- Doom 요소를 확인할 수 있는 탭에서 실험적인 기능 활성화
    - 접근성 트리를 바로 확인할 수 있다.
- Lighthouse기능
    - 계산된 접근성 점수를 확인할 수 있다.

**NVDA** - Non Visual Desktop Access

- 무료 스크린리더
- 바로 실행해서 직접 테스트해 볼 수 있다.