# CI/CD와 무중단 배포

[[10분 테코톡] 찬, 레넌의 CI/CD와 무중단 배포](http://youtube.com/watch?v=sIPU_VkrguI&list=PLkfxusmKmLsNDGmER2tmrslpPOTfKhE7j&index=109&t=240s)

# CI/CD

**용어 정리**

- 컴파일
    - 프로그래머가 작성한 소스코드를 기계어로 변환하는 과정
- 빌드
    - 소스 코드 파일을 컴퓨터에서 실행할 수 있는 소프트웨어 산출물로 만드는 과정
    - 보통 빌드안에 컴파일 과정이 포함되어 있다.
- 배포
    - 빌드의 결과물을 사용자가 접근할 수 있는 환경에 배치하는 것

## CI (Continuous Integration)

> **지속적 통합**이라는 뜻으로 개발을 진행하면서도 품질을 관리할 수 있도록 여러 명이 하나의 코드에 대해서 수정을 진행해도 지속적으로 통합하면서 관리할 수 있음을 의미한다.
> 

**CI가 있기 전에**

- 개발자들은 Merge Day라는 날을 통해 모든 분기 소스를 통합
    - Merge를 마친 후 에러를 발견하면 에러를 찾기가 힘들다.

**CI**

- 코드 작성이 완료될 때마다 자동으로 병합할 수 있다.

**과정**

- Jenkins와 같은 CI툴이 build와 test를 진행한다.
- 이상이 없으면 코드를 병합한다.
- 문제가 발생할 경우 개발자에게 피드백 해준다.

**마틴 파울러가 제시하는 CI의 4가지 규칙**

- 모든 소스코드가 살아 있고 누구든 현재의 소스에 접근할 수 있는 **단일 지점을 유지** 할 것
- **빌드 프로세스를 자동화**해서 누구든 소스로부터 시스템을 빌드할 수 있게 할 것
- **테스팅을 자동화**해서 언제든지 시스템에 대한 건전한 테스트 수트를 실행할 수 있게 할 것
- 누구든 현재 실행파일을 얻으면 지금까지 **가장 완전한 실행 파일을 얻었다는 확신**을 하게 할 것

## CD (Continuous Deployment)

> **지속적 배포**라는 뜻으로 빌드의 결과물을 프로덕션으로 릴리스하는 작업을 자동화하는 것을 의미한다.
> 

**지속적 제공 (Continuous Delivery)와의 차이**

- 지속적 제공은 Code → Build → Test → Staging의 과정만을 거친다.
- 지속적 배포는 추가로 Deploy를 거친다.
    
    

### CI/CD흐름

- 개발자가 코드의 병합을 요청한다.
- CI/CD 툴이 Build와 Test를 진행한다.
    - 이때 에러가 발생하면 개발자에게 피드백을 준다.
    - 이상이 없다면 코드를 병합한다.
- 이후 CD과정을 거쳐 서버에 자동으로 Deploy(배포) 한다.

### 정리

- CI
    - 고객의 요구사항에 빠르게 대응하기 위해 나온 XP의 실천방안 중 한 가지
    - 여러 명이 하나의 코드에 대해서 수정을 진행해도 지속적으로 통합하면서 관리할 수 있음을 의미
- CD
    - CI의 연장선에 있는 개념
    - 빌드의 결과물을 프로덕션으로 지속적으로 배포하는 것을 의미