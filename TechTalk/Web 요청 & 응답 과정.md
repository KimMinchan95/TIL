# Web 요청 & 응답 과정

[[10분 테코톡] 🎧 삭정의 Web 요청 & 응답과정](https://www.youtube.com/watch?v=0jV7xOUcKog&list=PLkfxusmKmLsNDGmER2tmrslpPOTfKhE7j&index=94&t=287s)

## 인터넷과 웹

**인터넷(Internet)**

- Local Area Network (LAN)
    - **근거리 통신망,** 구내 정보 통신망은 네트워크 매체를 이용하여 집, 사무실, 학교 등의 건물과 같은 **가까운 지역을 한데 묶는 컴퓨터 네트워크.**
    - 더 큰 형태의 MAN(metropolitan Area Network), WAN(Wide Area Network) 등도 존재한다.
- **Internet**은 **컴퓨터 네트워크**들을 서로 연결 지어주는 **범지구적 네트워크** (= Inter-Network = **컴퓨터 네트워크들의 네트워크**)
- 이렇게 구축된 **인터넷**이라는 거대한 네트워크 위에서 오늘날 우리가 사용하는 **다양한 서비스**들이 동작
    - **웹**도 인터넷 위에서 동작하는 서비스들 중 하나

**웹(Work Wide Web)**

- Tim Berners-Lee (팀 버너스리)에 의해 탄생
    - **서로 다른 컴퓨터**에 **서로 다른 정보들**이 저장되어 있었다. **그 정보가 저장된 컴퓨터로 로그온** 해야만 정보를 얻을 수 있었다. 컴퓨터마다 다른 프로그램을 사용하기 때문에, 처음 보는 프로그램이라면 **매번 새로운 프로그램에 대해 학습**해야 했다.
    - 그래서 새로운 소통 방법이 필요했다.
- 당시 빠르게 발전하고 있던 **인터넷** 그리고 **HyperText** 같은 당시 새롭게 떠오르는 컴퓨터 기술들을 활용하여 이러한 문제점을 해결하고자 했다.
    - **Information Management: A Proposal** 이라는 제안서의 아이디어를 토대로 오늘날 **웹**이 탄생했다.
- 웹의 존재 이유는 **정보(자원)의 공유** ⇒ 웹은 **수많은 요청과 응답 사이클의 연속**으로 이루어진다.

## 서버 & 클라이언트

**서버(Server)**

- 정보, 자원, 서비스를 **제공**하는 측. 요청을 받고 응답 하는 측.

**클라이언트(Client)**

- 클라이언트는 정보, 자원, 서비스를 **사용**하는 측. 요청을 보내는 측이다.

## HTTP(HyperText Transfer Protocol)

- 웹 요청과 응답에 관한 클라이언트와 서버사이의 규약(약속)
    - **HTTPS**는 HTTP에서 보안이 더 강화된 버전

### HTTP의 대표적인 특성

**비연결성(Connectionless)**

- 클라이언트의 요청에 대해 서버가 응답을 마치면 연결을 **끊어버린다** 다음 요청은 **새로운 연결**을 통해 이루어진다
    - **단점 :** 매번 모든 요청에 대해서 새로운 연결/해제 과정을 거치므로 **네트워크 비용**측면에서 **비효율적**
    - **보완책 :** HTTP/1.1 Keep-Alive, 서버와 클라이언트 사이에서 통신이 없어도 **지정된 시간동안** 연결을 유지하는 기능

**무상태(stateless)**

- 서버와 클라이언트는 **하나의 요청이 진행되는 동안만 서로를 인지**
    - **단점 :** 클라이언트 인증(로그인)이 필요한 서비스에서 불편함
    - **보완책 :** 쿠키, 세션, 토큰 (OAuth, JWT) - 상태를 기억하기 위한 기능들

### HTTP Status Code(응답 코드, 상태 코드)

- 클라이언트의 요청에 대해서 서버는 **요청에 대한 처리 상태**를 **숫자 코드**로 반환
    - ex) **200** (서버가 요청을 제대로 처리했을 때), **404** (요청한 페이지 찾을 수 없음)
- 종류
    - 1xx: (정보) 요청을 받았으며 프로세스를 계속한다.
    - 2xx: (성공) 요청을 성공적으로 받았으며 인식해서 처리했다.
    - 3xx: (리다이렉션) 요청 완료를 위해 추가 작업 조치가 필요하다.
    - 4xx: (클라이언트 에러) 요청의 문법이 잘못되었거나 요청을 처리할 수 없다.
    - 5xx: (서버 에러) 서버가 명백히 유효한 요청에 대해 충족을 실패했다.

### HTTP Method (verbs) (HTTP 메서드)

- 클라이언트가 요청을 보낼 때 해당 요청의 **목적**이 뭔지 HTTP Method를 통해 명시
- 종류
    - GET - 서버 리소스를 조회하고자 할 때 (READ)
    - POST - 서버 리소스를 생성하고자 할 때 (CREATE)
    - PUT - 서버 리소스를 ****수정할 때 (UPDATE)
    - DELETE - 서버 리소스를 삭제할 때 (DELETE)
    - HEAD - GET과 동일하나, 서버에서 Body를 빼고 HEAD로만 응답 (리소스 확인의 용도)
    - PATCH - 리소스의 부분만을 수정할 때
    - OPTIONS - 지원 가능한 메서드 종류를 알아볼 때
    - TRACE - 리소스의 경로를 따라 메세지 loop-back 테스트를 실행
- CONNECT - 리소스로 식별되는 서버로의 터널을 맺을때

## 웹 요청과 응답 과정

### 티스토리 홈페이지에 대한 요청과 응답

1. URL
- Uniform Resource Locator
    - 네트워크상 자원의 위치(주소)
- https://www.exampleurl.com/info/aboutus.html
    - https : 사용하는 **protocol**
    - www.exampleurl.com : **Domain**을 의미
    - info : 원하는 리소스가 **Domain**에서 어느 경로에 있는지
    - aboutus.html : 어느 파일인지

1. 홈 페이지에 대한 요청을 서버로 전송 **(HTTP Request)**
- 포함된 내용 예시
    - accept: 어떤 타입의 응답 컨텐츠를 수용할 수 있는지
    - user-agent: 어떤 운영체제, 어떤 브라우저인지
    - cookie: 상태 기억을 위한 정보

1. 서버가 클라이언트로 부터 요청을 받고 처리
- Request Headers 확인
    - **요청**에 대한 정보 (URL, Method …) + **클라이언트**에 대한 정보 (accept, user-agent, cookie …)
- 요청에 상응하는 로직 수행
    - 홈페이지 (www.tistory.com)에 해당하는 html 파일을 찾은 후 요청에 대한 **응답 생성**

1. 서버가 클라이언트에게 응답 **(HTTP Response)**
- Response Headers
    - 응답에 대한 부가적인 내용
- Response Body
    - 위에서 요청한 HTML을 Body에 담아서 보내준다.

1. 클라이언트 (웹 브라우저)가 응답을 받은 후 필요한 리소스들을 추가 요청 & 응답 받기
- CSS, JavaScript 등

1. 클라이언트 (웹 브라우저)가 모든 리소스 요청에 대한 응답을 받음
- 렌더링 과정을 통해 볼 수 있다.