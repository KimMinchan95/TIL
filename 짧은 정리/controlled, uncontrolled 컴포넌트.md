# Controlled vs Uncontrolled 컴포넌트

## Controlled 컴포넌트 (제어 컴포넌트)

### 정의

- **React의 state가 "신뢰 가능한 단일 출처(single source of truth)"가 되는 컴포넌트**
- 컴포넌트의 상태가 React에 의해 완전히 제어되는 컴포넌트

### 특징

- 컴포넌트의 값이 항상 React state에 의해 결정됨
- 사용자 입력이 발생할 때마다 state가 업데이트되고 컴포넌트가 리렌더링됨
- `value` prop과 `onChange` 이벤트 핸들러를 사용

### 장점

- **실시간 유효성 검사**: 입력값이 변경될 때마다 즉시 검증 가능
- **조건부 렌더링**: 입력값에 따라 다른 UI 요소 표시 가능
- **예측 가능한 상태**: 컴포넌트의 상태가 항상 React state와 동기화됨
- **테스트 용이성**: 상태를 쉽게 설정하고 검증할 수 있음

### 단점

- **성능 오버헤드**: 매 입력마다 리렌더링 발생
- **복잡성**: 간단한 폼에도 state 관리 코드 필요

## Uncontrolled 컴포넌트 (비제어 컴포넌트)

### 정의

- **DOM 자체에서 폼 데이터를 다루는 컴포넌트**
- React state 대신 DOM 요소의 ref를 사용하여 값을 가져옴

### 특징

- 컴포넌트의 값이 DOM에 직접 저장됨
- 사용자 입력이 발생해도 React state가 업데이트되지 않음
- `defaultValue` prop과 `ref`를 사용

### 장점

- **성능**: 불필요한 리렌더링 없음
- **간단함**: 복잡한 state 관리 불필요
- **기존 코드와의 호환성**: 기존 HTML 폼과 유사한 방식

### 단점

- **실시간 유효성 검사 어려움**: 입력 중 검증이 어려움
- **상태 동기화 문제**: React state와 DOM 상태가 분리됨
- **테스트 복잡성**: DOM 조작이 필요

## 언제 어떤 것을 사용할까?

### Controlled 컴포넌트 사용 시기

- **실시간 유효성 검사**가 필요한 경우
- **조건부 렌더링**이 필요한 경우
- **폼 제출 전 검증**이 필요한 경우
- **입력값에 따른 즉시 피드백**이 필요한 경우

### Uncontrolled 컴포넌트 사용 시기

- **단순한 폼**에서 성능이 중요한 경우
- **기존 라이브러리**와의 통합이 필요한 경우
- **파일 업로드**와 같은 특수한 입력 요소 (단순한 경우)
- **폼 제출 시에만 값이 필요**한 경우

## 결론

- **Controlled 컴포넌트**: 복잡한 폼, 실시간 검증, 상태 관리가 중요한 경우
- **Uncontrolled 컴포넌트**: 단순한 폼, 성능이 중요한 경우, 특수한 입력 요소

대부분의 경우 **Controlled 컴포넌트**를 사용하는 것이 권장되지만, 상황에 따라 적절한 방식을 선택하는 것이 중요합니다.
