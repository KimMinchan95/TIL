# 실행 컨텍스트

> 실행 컨텍스트(Execution Context)는 **자바스크립트 코드가 실행되는 환경**을 의미한다. 모든 자바스크립트 코드는 실행 컨텍스트 내에서 실행된다.

- 자바스크립트 엔진이 코드를 해석하고 실행할 때, 실행 컨텍스트를 기반으로 **변수, 함수, this, 스코프** 등을 관리한다.

## 실행 컨텍스트의 종류

1. **전역 실행 컨텍스트 (Global Execution Context)**

   - 코드가 처음 실행될 때 생성되는 최상위 컨텍스트
   - 브라우저 환경에서는 전역 객체(window)를 생성하고 this를 전역 객체로 설정
     - Node.js 환경에서는 global 객체를 가리킴
   - 전역 변수와 함수를 저장

2. **함수 실행 컨텍스트 (Function Execution Context)**
   - 함수가 호출될 때마다 생성되는 컨텍스트
   - 함수의 지역 변수, 매개변수, arguments 객체를 저장
   - this 바인딩이 함수 호출 방식에 따라 결정

## 실행 컨텍스트의 구성 요소

1. **Variable Environment** (변수 환경)

   - `var`와 함수 선언을 저장
   - 초기화 단계에서 선언만 먼저 처리함 (호이스팅과 관련)
   - 스코프 체인을 구성

2. **Lexical Environment** (어휘적 환경)

   - 식별자와 변수의 매핑을 저장
   - `let`, `const`, 클로저 관련
   - 외부 환경에 대한 참조를 포/함

3. **This Binding** (This 바인딩)
   - 현재 실행 중인 코드에서 this 키워드가 참조하는 객체를 결정

## 실행 컨텍스트 스택

- 실행 컨텍스트는 스택(LIFO) 구조로 관리됨
- 새로운 컨텍스트가 생성되면 스택의 최상단에 쌓임
- 컨텍스트의 실행이 완료되면 스택에서 제거됨

## 실행 컨텍스트 생성 과정

1. **생성 단계 (Creation Phase)**

   - Variable Object 생성
   - 스코프 체인 설정
   - this 바인딩

2. **실행 단계 (Execution Phase)**
   - 코드 실행
   - 변수 할당
   - 함수 실행

## 호이스팅과 실행 컨텍스트

- 변수와 함수 선언이 실행 컨텍스트 생성 단계에서 처리됨
- var로 선언된 변수는 undefined로 초기화
- let과 const는 TDZ(Temporal Dead Zone)에 의해 초기화되지 않은 상태로 유지
