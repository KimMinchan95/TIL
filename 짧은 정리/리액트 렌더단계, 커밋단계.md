# 리액트 렌더 단계 & 커밋 단계

## 개요

React는 UI 업데이트를 두 단계로 나눠 처리한다: 렌더(Render) 단계와 커밋(Commit) 단계.

---

## 1. 렌더 단계 (Render Phase)

- **무엇을 할지 결정하는 단계**
- 컴포넌트 트리를 순회하며 변경 사항을 계산
- 새로운 Virtual DOM 트리를 생성
- 실제 DOM에는 아무런 변화가 없음
- 이 단계는 중단(Interrupt)될 수 있음 (Fiber 구조의 장점)
- 순수 함수처럼 동작 (side effect 없음)

### 주요 특징

- 여러 번 실행될 수 있음
- React가 최적의 시점에 작업을 나눠 처리
- useEffect, useLayoutEffect 등은 실행되지 않음

---

## 2. 커밋 단계 (Commit Phase)

- **실제로 DOM을 변경하는 단계**
- Virtual DOM에서 계산된 변경 사항을 실제 DOM에 반영
- 이 단계는 반드시 한 번에 끝까지 실행됨 (중단 불가)
- DOM 업데이트, ref 변경, 라이프사이클 메서드 실행, useEffect 등 부수효과 처리

### 주요 특징

- 빠르게 실행되어야 함 (사용자 경험에 직접 영향)
- DOM, 브라우저 API, 외부 시스템과의 상호작용이 이 단계에서 발생
