# [Thinking in React](https://ko.react.dev/learn/thinking-in-react)

## 리액트로 UI를 구현하기 위해서 보통 다섯 단계를 따른다.

### Step 1 : UI를 컴포넌트 계층으로 쪼개기

첫 번째 일은 모든 컴포넌트와 하위 컴포넌트의 주변에 박스를 그리고 이름을 붙이는 것이다.

#### 배경에 따라 컴포넌트를 다양하게 쪼갤 수 있다.

- Programming : 단일책임 원칙을 반영한다면 컴포넌트는 한 가지 일만 해야 된다. 컴포넌트가 커지면 하위 컴포넌트로 쪼개야 한다.
- CSS : class 선택자를 무엇으로 만들지 생각해야 한다.
- Design - 디자인 계층을 어떤 식으로 구성할지 생각해야 한다.

<br />

컴포넌트들이 데이터 모델에 매칭될 수 있게 UI를 컴포넌트로 쪼개면 좋다.

### Step 2 : React로 정적인 UI 구현하기

데이터 모델을 가지고 UI를 렌더링은 되지만 아무 동작없는 목업 버전을 만들어 볼 수 있다.
정적인 버전을 먼저 만들고 상호작용을 개별로 추가하는 것이 보통 더 쉽다.

다른 컴포넌트를 재사용하는 컴포넌트를 만들고 props를 이용해 데이터를 전달해 준다.

**간단한 예시는 하향식으로 만드는 게 쉽지만, 프로젝트가 커지면 상향식으로 만들고 테스트를 작성하면 개발하기 더 쉽다.**

- 데이터가 최상단 컴포넌트부터 트리의 맨 아래 까지 흘러가기 때문에 단방향 데이터 흐름(one-way data flow)라고 부른다.

### Step 3 : 최소한의 데이터만 이용해서 완벽하게 UI State 표현해내기

- 앱을 동작시키기 위해 최소한의 state들만 이용해야 한다.
- 핵심은 DRY원칙(Don't Repeat Yourselt)이다.
- 앱이 필요로 하는 최소한의 state를 찾고 이를 통해 나머지 모든 것들이 필요에 따라 끄대끄대 계산되도록 만들어야 한다.

### Step 4 : State가 어디에 있어야 할지 정하기

**React는 항상 컴포넌트 계층구조를 따라 부모에서 자식으로 내려가는 단방향 데이터 흐름을 따른 다는 것을 기억해야 한다!**

State를 배치할 곳을 찾기위해 아래 과정을 따르면 된다.

1. 해당 state를 기반으로 렌더링하는 모든 컴포넌트를 찾는다.
2. 가장 가까운 공통되는 부모 컴포넌트를 찾는다.
3. state가 어디에 위치 해야 하는지 결정한다.
   1. 대개, 공통 부모에 state를 두면 된다.
   2. 혹은, 공통 부모 상위의 컴포넌트에 둬도 된다.
   3. state를 소유할 적절한 컴포넌트를 찾지 못했으면, state를 소유하는 컴포넌트를 하나 만들어서 상위 계층에 추가하면 된다.

### Step 5: 역 데이터 흐름 추가하기

하단에 있는 컴포넌트에서 state를 업데이트 하기위해서는 역 데이터 흐름을 추가해야 한다.

전통적인 양방향 데이터 바인딩(two-way data binding)과 비교하면 더 많은 타이핑을 해야 하지만 데이터 흐름을 명시적으로 보이게 해줘서 프로그램 동작 파악이 쉽다.

코드 적인 도음을 위해서는 [State 끌어올리기](https://ko.legacy.reactjs.org/docs/lifting-state-up.html) 문서를 참고하면 된다.
